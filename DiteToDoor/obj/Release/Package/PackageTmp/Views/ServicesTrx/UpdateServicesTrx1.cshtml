
@using DataMapping.Entites
@model DataMapping.ViewModel.ServicesTrxViewModel
@{
    ViewBag.Title = "";
    ApplicationDbContext db = new ApplicationDbContext();

    SelectList MachineType = new SelectList(db.MachineType, "Id", "Name");
    SelectList Service = new SelectList(db.Service_Tbl.Where(a => a.IsDeleted == false), "ServiceId", "ServiceName");
    var PurchaseDetailss = db.ServicesTrxD.Where(a => a.ServiceTrxId == Model.TrxType).ToList();


    SelectList CarsList = new SelectList(db.Cars.Where(a => a.IsDeleted == false), "Id", "PanelNo");

    SelectList EmployeeList = new SelectList(db.Employee.Where(a => a.IsDeleted == false), "Id", "EmployeeNameAr");
    SelectList VendorsList = new SelectList(db.Vendor.Where(a => a.IsDeleted == false), "Id", "Name");
    //var PurSetting = db.InvoicesSettings.FirstOrDefault(a => a.FormName == "Purchases");
    //string Notes = "";
    //bool edit = false;
    //var prefix = "";
    //if (PurSetting != null)
    //{

    //    Notes = PurSetting.Notes;
    //    edit = PurSetting.Editable;
    //    prefix = PurSetting.IDPrefix;
    //}
}

<style>
    .DateChange::-webkit-input-placeholder {
        text-align: center
    }

    .row {
        margin-bottom: 8px;
    }

    .button.button-small {
        height: 30px;
        line-height: 30px;
        padding: 0px 10px;
    }

    td input[type=text],
    td select {
        display: block;
        width: 100%;
        font-size: 14px;
        padding: 0px 15px;
        height: 32px;
        margin: 0;
        font-weight: 400;
        line-height: 1.5;
        color: #666666;
        border: 1px solid #ced4da;
        border-radius: 0.25rem;
        -webkit-transition: border-color .15s ease-in-out, -webkit-box-shadow .15s ease-in-out;
        transition: border-color .15s ease-in-out, -webkit-box-shadow .15s ease-in-out;
        transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out, -webkit-box-shadow .15s ease-in-out;
    }

        td input[type=text]:focus,
        td select:focus {
            border-color: #6777ef;
        }

    th:last-child {
        text-align: right;
    }

    td:last-child {
        text-align: right;
    }

        td:last-child .button {
            width: 30px;
            height: 30px;
            text-align: center;
            padding: 0px;
            margin-bottom: 0px;
            margin-right: 5px;
            background-color: #FFF;
        }

            td:last-child .button .fa {
                line-height: 30px;
                width: 30px;
            }

    #PurchaseINVNo, #RowsCount, #TotaleItemDis, #TotalBeforeDis, #Residual, #TotalNet, #TrxSerial {
        border: 2px solid #ebebeb;
    }
</style>
<div class="invoice-container">
    <input id="JournalDate" hidden value="@Model.Date">

    <!--<div class="row heder_title">
        <div class="col-6">
            <h3 class="blockquote">@DataMapping.Resources.Resource.PurchaseINV</h3>
        </div>
        <div class="col-6 text-left" style="display: -webkit-inline-box; margin-right:1000px">
            <a href="#" id="submit" class="btn btn-icon icon-left btn-info">
                @DataMapping.Resources.Resource.save <i class="fa fa-save" aria-hidden="true"></i>
            </a>-->
    @*<a href="#" class="btn btn-outline-secondary">
            طباعة <i class="fas fa-print"></i>
        </a>*@
    <!--@using (Html.BeginForm("PrintDataRDLC", "PurchaseINV"))
            {
                <button formtarget="_blank" type="submit" class="btn btn-outline-secondary" style="background-color:white; color:darkgreen;border-width:2px">

                    @DataMapping.Resources.Resource.Print  <i class="fa fa-print" aria-hidden="true"></i>

                </button>
            }
            <a id="ADD" href="#" class="btn btn-icon icon-left success_butn" data-toggle="modal">
                @DataMapping.Resources.Resource.Add <i class="fa fa-plus" aria-hidden="true"></i>
            </a>
        </div>
    </div>-->
    <input type="number" id="change" hidden>
    <div class="row heder_title">
        <div class="col-6">
            <h3 class="blockquote">سند صرف زيوت وفلاتر وغسيل </h3>
        </div>
        <div class="col-6 text-left" style="display: -webkit-inline-box; direction:ltr">
            <a href="~/ServicesTrx/Index" id="back" class="btn btn-icon icon-left btn-outline-warning" @*data-toggle="modal"*@>
                رجوع <i class="fa fa-chevron-left" aria-hidden="true"></i>
            </a>
            @*<a href="#" class="btn btn-outline-secondary">
                    طباعة <i class="fas fa-print"></i>
                </a>*@
            @using (Html.BeginForm("PrintDataRDLC", " RecieveNote"))
            {
                <button formtarget="_blank" type="submit" class="btn btn-outline-secondary">
                    طباعة  <i class="fa fa-print" aria-hidden="true"></i>
                </button>
            }
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="accordion" id="accordionExample">
                <div class="card">
                    <div class="row card-header" id="headingOne">
                        <h2 class="col-2 mb-0 text-right">
                            <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                تفاصيل المذكرة
                            </button>
                        </h2>
                        <div class="col-10 text-left">
                            <button class="btn btn-link btn-block no_hover_btn text-left" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                    </div>
                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                        <div class="card-body" style="height:300px;">
                            <div class="row">
                                <div class="col-7">
                                    <div class="card-layout">
                                        <div class="mb-2 row">
                                            <label class="col-sm-2 col-form-label"> مسلسل</label>
                                            <div class="col-sm-4">

                                                @Html.TextBoxFor(a => a.TrxType, new { Value = ViewBag.autoCode, @id = "TrxType", @class = "form-control", @readonly = "readonly" })
                                                @*}*@
                                            </div>

                                            <label class="col-sm-2 col-form-label">تاريخ الاستلام</label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.Date, new { @id = "Date", @class = "DateChange form-control", type = "date", Value = ViewBag.autoDate })
                                            </div>
                                            @*<label class="col-sm-2 col-form-label"> السنة</label>

                                                <div class="col-sm-4">
                                                    @Html.TextBoxFor(a => a.Year, new { @id = "Year", @class = "DateChange form-control", type = "date", Value = ViewBag.autoDate })
                                                </div>*@
                                        </div>
                                        <div class="mb-2 row">
                                            @*<label class="col-sm-2 col-form-label">رقم التعميد </label>
                                                <div class="col-sm-4">
                                                    @Html.TextBoxFor(a => a.AssignmentYear, new { @id = "AssignmentYear", @class = "form-control" })
                                                </div>*@
                                            <label class="col-sm-2 col-form-label"> نوع السيارة او المعدة</label>
                                            <div class="col-sm-10">
                                                @Html.DropDownList("MachineTypeId", null, htmlAttributes: new { @id = "MachineType", @class = "BranchList form-control" })
                                            </div>

                                        </div>

                                        <div class="mb-2 row">

                                            <label class="col-sm-2 col-form-label">   رقم الاستمارة  </label>
                                            <div class="col-sm-4">

                                                <input type="text" id="carCarLicenseNo" name="lname" class=" form-control" readonly="readonly">

                                                @*@Html.TextBoxFor(a => a.PagesCount, new { @id = "PagesCount", @class = " form-control" })*@
                                            </div>
                                            <label class="col-sm-2 col-form-label">  السيارة او المعدة<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                @Html.DropDownList("CarlistId", null, htmlAttributes: new { @id = "Serial", @class = "BranchList form-control", @readonly = "readonly" })

                                                @*@Html.TextBoxFor(a => a.Serial, new { @id = "Serial", @class = " form-control" })*@
                                            </div>





                                        </div>
                                        <div class="mb-2 row">

                                            <label class="col-sm-2 col-form-label"> النوع </label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.Type, new { @id = "Type", @class = " form-control", @readonly = "readonly" })
                                            </div>
                                            <label class="col-sm-2 col-form-label">    رقم اللوحة<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                <input type="text" id="PanalNumber" name="lname" class=" form-control" readonly="readonly">
                                                @*@Html.TextBoxFor(a => a.Attachments, new { @id = "Attachments", @class = " form-control" })*@
                                            </div>





                                        </div>
                                        <div class="mb-2 row">

                                            <label class="col-sm-2 col-form-label"> القراءة الحالية </label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.CurrentReading, new { @id = "CurrentReading", @class = " form-control" })
                                            </div>
                                            <label class="col-sm-2 col-form-label"> القراءة السابقة<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.PreviousReading, new { @id = "PreviousReading", @class = " form-control", @readonly = "readonly" })
                                            </div>





                                        </div>
                                        <div class="mb-2 row">

                                            <label class="col-sm-2 col-form-label">  تغيير زيت كل  </label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.ReplaceOil, new { @id = "ReplaceOil", @class = " form-control" })
                                            </div>
                                            <label class="col-sm-2 col-form-label">  التغيير القائم عند<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.SMS_Sent, new { @id = "SMS_Sent", @class = " form-control" })
                                            </div>





                                        </div>










                                    </div>
                                </div>

                                <div class="col-5">
                                    <div class="card-layout" style="height:auto">
                                        <div class="mb-2 row">

                                            <label class="col-sm-2 col-form-label">  تاريخ التنبية  </label>
                                            <div class="col-sm-4">
                                                @*@Html.TextBoxFor(a => a.Date, new { @id = "Date", @class = "DateChange form-control", type = "date", Value = ViewBag.autoDate })*@

                                                @Html.TextBoxFor(a => a.AlertDate, new { @id = "AlertDate", @class = " form-control", type = "date", Value = ViewBag.autoDate })
                                            </div>
                                            <label class="col-sm-2 col-form-label"> السائق<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                <input type="text" id="driverId" name="lname" class=" form-control">

                                                @*@Html.TextBoxFor(a => a.Attachments, new { @id = "Attachments", @class = " form-control" })*@
                                            </div>






                                        </div>
                                        <div class="mb-2 row">
                                            <label class="col-sm-2 col-form-label"> ايام التنبية</label>
                                            <div class="col-sm-4">
                                                @Html.TextBoxFor(a => a.AlertDays, new { @id = "AlertDays", @class = " form-control" })
                                            </div>

                                            <label class="col-sm-2 col-form-label">  الادارة<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                <input type="text" id="departmentId" name="lname" class=" form-control">

                                                @*@Html.TextBoxFor(a => a.Attachments, new { @id = "Attachments", @class = " form-control" })*@
                                            </div>





                                        </div>
                                        <div class="mb-2 row">

                                            <label class="col-sm-2 col-form-label">    الفرق  </label>
                                            <div class="col-sm-4">
                                                <input type="text" id="" name="lname" class=" form-control">

                                                @*@Html.TextBoxFor(a => a.PagesCount, new { @id = "PagesCount", @class = " form-control" })*@
                                            </div>
                                            <label class="col-sm-2 col-form-label">     اخر قراءة<span style="color:red">*</span></label>
                                            <div class="col-sm-4">
                                                <input type="text" id="PreviousReading" name="lname" class=" form-control" readonly="readonly">

                                                @*@Html.TextBoxFor(a => a.Attachments, new { @id = "Attachments", @class = " form-control" })*@
                                            </div>





                                        </div>

                                        <label class="col-sm-4 col-form-label">     الحد المسموح لتغيير الزيت <span style="color:red">*</span></label>
                                        <div class="col-sm-6">
                                            <input type="text" id="" name="lname" class=" form-control">

                                            @*@Html.TextBoxFor(a => a.Attachments, new { @id = "Attachments", @class = " form-control" })*@
                                        </div>





                                    </div>


                                </div>

                            </div>



                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="table-responsive">
                <table id="OrdersItems" class="table table-striped table-bordered table-hover" style="width:100%;">
                    <thead>
                        <tr>
                            <th class="th_width_3">كود الخدمة </th>


                            <th class="th_width_5"> اسم الخدمة </th>
                            <th class="th_width_2">@DataMapping.Resources.Resource.Quantity</th>
                            @*<th class="th_width_2">@DataMapping.Resources.Resource.Price</th>
                                <th class="th_width_10">@DataMapping.Resources.Resource.Total</th>*@
                            @*<th class="th_width_3">@DataMapping.Resources.Resource.DisPer</th>
                                <th class="th_width_3">@DataMapping.Resources.Resource.DisVal</th>
                                <th class="th_width_3">@DataMapping.Resources.Resource.Net</th>*@



                            <th class="th_width_3">@DataMapping.Resources.Resource.Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in PurchaseDetailss)
                        {
                            SelectList services = new SelectList(db.Service_Tbl.Where(a => a.IsDeleted == false), "ServiceId", "ServiceName", item.ServiceId);



                            <tr id="MainRow">
                                <td>
                                    <input type="number" id="ItemNumber" class="ItemNumber form-control" readonly>

                                </td>

                                <td>  @Html.DropDownList("Service", services, "اختر الخدمة", new { @class = "ItemListCLS form-control select2", @disabled = "disabled" })</td>

                                @*<td>@Html.DropDownList("Itemss", Itemss, new { @class = "ItemListCLS form-control select2", @disabled = "disabled" })</td>*@
                                <td>
                                    <input type="text" class="Qty form-control" value="@item.Quantity" disabled="disabled">
                                </td>


                                <td>
                                    <a id="addd" class="deleteItem btn btn-icon btn-outline-info" data-toggle="modal" hidden>

                                        <i class="fas fa-plus-circle success"></i>
                                    </a>
                                </td>
                            </tr>
                        }
                        <tr id="MainRow">
                            <td>
                                <input type="number" id="ItemNumber" class="ItemNumber form-control" readonly>

                            </td>
                            @*<td id="GroupHide">
                                    <div>
                                        @Html.DropDownList("ItemCategoriesList", ItemCategoriesList, "اختر الكل", new { @id = "ItemCategoriesList", @class = "ItemCategoriesList form-control select2" })

                                    </div>

                                </td>*@
                            <td>
                                @Html.DropDownList("Service", Service, "اختر الخدمة", new { @id = "ItemList", @class = "ItemListCLS form-control select2" })

                                @*@Html.DropDownList("ItemList", ItemList, "اختر الصنف", new { @id = "ItemList", @class = "ItemListCLS form-control select2" })*@


                            </td>
                            <!--<td>-->
                            @*@Html.DropDownList("UnitList", UnitList, "اختر الوحدة", new { @id = "UnitList", @class = "UnitList form-control select2" })*@


                            <!--</td>-->
                            <td>
                                <input type="number" id="Qty" class="Qty form-control" value="1">
                            </td>
                            @*<td>
                                    <input type="text" id="Price" class="Price form-control" value="0">
                                </td>
                                <td>
                                    <span id="Total" class="Total"></span>
                                </td>*@
                            @*<td>
                                    <input type="number" id="Disper" class="Disper form-control" value="0">
                                </td>
                                <td>
                                    <input type="number" id="DisValue" class="DisValue form-control" value="0">
                                </td>
                                <td>
                                    <span id="Net" class="Net"></span>

                                </td>*@

                            @*<td>
                                    <input type="text" id="NotesD" class="NotesD form-control">
                                </td>*@

                            <td>
                                <a id="addd" class="deleteItem btn btn-icon btn-outline-info" data-toggle="modal" hidden>
                                    @*<i class="fas fa-check"></i>*@
                                    <i class="fas fa-plus-circle success"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <button id="addRowService" class="btn btn-icon icon-left success_butn add-row"><i class="fa fa-plus"></i>إضافة صف</button>
        </div>
    </div>

    <!--<div class="row">
        <div class="col-12">
            <div class="card invoice_total" style="background-color: white; color: black;">
                <div class="card-body" style="">
                    <div class="row">


                        <label class="col-sm-2 col-form-label text-right" style="font-size: 14px; font-weight: bold">نسبة الخصم الاجمالية</label>
                        <div class="col-sm-4">
                            <input type="number" id="TotalDisper" class="form-control TotalDisper" />
                        </div>
                        <label class="col-sm-2 col-form-label text-right" style="font-size: 14px; font-weight: bold;">اجمالي قيمة الفاتورة</label>
                        <div class="col-sm-4">
                            <span id="TotalBeforeDis" class="TotalBeforeDis"></span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div class="row">



                        <label class="col-sm-2 col-form-label text-right" style="font-size: 14px; font-weight: bold">قيمة الخصم الاجمالية</label>
                        <div class="col-sm-4">
                            <input type="number" id="TotalDis" class="form-control TotalDis" />
                        </div>
                        <label class="col-sm-2 col-form-label text-right" style="font-size: 14px; font-weight: bold;text-align:right">المبلغ المتبقى</label>
                        <div class="col-sm-4">
                            <span id="Residual" class="Residual"></span>
                        </div>

                    </div>
                    <div class="divider"></div>
                    <div class="row">-->
    @*<label class="col-sm-2 col-form-label text-right" style="font-size: 14px; font-weight: bold">المبلغ المدفوع</label>
        <div class="col-sm-4">
            <input type="number" id="Payed" class="form-control Payed" />
        </div>*@

    <!--<label class="col-sm-2 col-form-label text-right" style="font-size: 14px; font-weight: bold; text-align:right">صافي قيمة الفاتورة</label>
                        <div class="col-sm-4">
                            <span id="TotalNet" class="TotalNet"></span>
                        </div>


                    </div>
                    <div class="divider"></div>
                </div>
            </div>
        </div>
    </div>-->
</div>
<!--<div class="row">
    <div class="col-12">


        <div class="accordion" id="accordionExampleee">
            <div class="card">
                <div class="row card-header" id="headingOneee">
                    <h3 class="col-2 mb-0 text-right">
                        <button class="btn btn-link btn-block" type="button" data-toggle="collapse" data-target="#collapseOneee" aria-expanded="true" aria-controls="collapseOneee">
                            @DataMapping.Resources.Resource.Notes
                        </button>
                    </h3>
                    <div class="col-10 text-left">
                        <button class="btn btn-link btn-block no_hover_btn text-left" type="button" data-toggle="collapse" data-target="#collapseOneee" aria-expanded="true" aria-controls="collapseOneee">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                </div>
                <div id="collapseOneee" class="collapse show" aria-labelledby="headingOneee" data-parent="#accordionExampleee">
                    <div class="card-body">
                        <div class="row">
                            <div class="form-group col-12">-->
@*<textarea name="myTextarea" id="myTextareaNotes">@Notes</textarea>*@
<!--</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion" id="accordionExampleeee">
            <div class="card">
                <div class="row card-header" id="headingOneeee">
                    <h3 class="col-2 mb-0 text-right">
                        <button class="btn btn-link btn-block" type="button" data-toggle="collapse" data-target="#collapseOneeee" aria-expanded="true" aria-controls="collapseOneeee">
                            المرفقات
                        </button>
                    </h3>
                    <div class="col-10 text-left">
                        <button class="btn btn-link btn-block no_hover_btn text-left" type="button" data-toggle="collapse" data-target="#collapseOneeee" aria-expanded="true" aria-controls="collapseOneeee">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                </div>
                <div id="collapseOneeee" class="collapse show" aria-labelledby="headingOneeee" data-parent="#accordionExampleeee">
                    <div class="card-body">
                        <form action="/file-upload" class="dropzone" id="my-awesome-dropzone"></form>
                        <button id="submit1-files" class="btn btn-secondary" style="margin-top:16px;">رفع</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>-->
<div class="row">
    <div class="col-12">
        <a href="#" id="updatee" class="btn btn-icon icon-left info_butn">
            @DataMapping.Resources.Resource.save <i class="fa fa-save" aria-hidden="true"></i>
        </a>
    </div>
</div>
@section ModelPopup{
    <div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="width:85%">
        <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">@DataMapping.Resources.Resource.AddItem</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="padding-bottom: 0px !important;">
                    <div class="row">
                        <div class="table-responsive">
                            <table style="table-layout: fixed !important" class="table table-striped table-bordered table-hover" style="width:100%;">

                                <tbody></tbody>
                            </table>
                            <table id="TbItem" style="table-layout: fixed !important" class="table table-striped table-bordered table-hover" style="width:100%;">
                                <thead>
                                    <tr>
                                        <th class="th_width_3">@DataMapping.Resources.Resource.ItemNo</th>
                                        <th class="th_width_14">@DataMapping.Resources.Resource.ItemGroup</th>
                                        <th class="th_width_14">@DataMapping.Resources.Resource.ItemName</th>
                                        <th class="th_width_9">@DataMapping.Resources.Resource.unit</th>
                                        <th class="th_width_5">@DataMapping.Resources.Resource.Quantity</th>
                                        @*<th class="th_width_8">@DataMapping.Resources.Resource.Price</th>
                                            <th class="th_width_8">@DataMapping.Resources.Resource.Total</th>
                                            <th class="th_width_5">@DataMapping.Resources.Resource.DisPer</th>
                                            <th class="th_width_5">@DataMapping.Resources.Resource.DisVal</th>
                                            <th class="th_width_8">@DataMapping.Resources.Resource.Net</th>

                                            <th class="th_width_5">@DataMapping.Resources.Resource.Balance</th>
                                            <th class="th_width_3">@DataMapping.Resources.Resource.ItemCostt</th>*@
                                        <th class="th_width_3">ادراج</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr id="MainRow">
                                        <td>
                                            <input type="number" id="ItemNumber" class="ItemNumber form-control" readonly>

                                        </td>
                                        @*<td id="GroupHide">
                                                <div>
                                                    @Html.DropDownList("ItemCategoriesList", ItemCategoriesList, "اختر الكل", new { @id = "ItemCategoriesList", @class = "ItemCategoriesList form-control select2" })

                                                </div>

                                            </td>*@
                                        @*<td>

                                                @Html.DropDownList("ItemList", ItemList, "اختر الصنف", new { @id = "ItemList", @class = "ItemListCLS form-control select2" })


                                            </td>
                                            <td>
                                                @Html.DropDownList("UnitList", UnitList, "اختر الوحدة", new { @id = "UnitList", @class = "UnitList form-control select2" })


                                            </td>*@
                                        <td>
                                            <input type="number" id="Qty" class="Qty form-control" value="1">
                                        </td>
                                        @*<td>
                                                <input type="text" id="Price" class="Price form-control" value="0">
                                            </td>
                                            <td>
                                                <span id="Total" class="Total"></span>
                                            </td>
                                            <td>
                                                <input type="number" id="Disper" class="Disper form-control" value="0">
                                            </td>
                                            <td>
                                                <input type="number" id="DisValue" class="DisValue form-control" value="0">
                                            </td>
                                            <td>
                                                <span id="Net" class="Net"></span>

                                            </td>*@

                                        @*<td>
                                                <input type="number" id="ItemBalance" class="form-control" readonly>
                                            </td>
                                            <td>
                                                <input type="number" id="ItemCostt" class="ItemCostt form-control" readonly>

                                            </td>*@
                                        <td>
                                            <a id="add" class="deleteItem btn btn-icon btn-outline-info" data-toggle="modal">
                                                @*<i class="fas fa-check"></i>*@
                                                <i class="fas fa-plus-circle success"></i>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="mb-2 row">
                        <div class="col-12 text-right">
                            <button type="button" id="toggle" class="btn btn-primary"> تفاصيل الصنف </button>
                        </div>
                    </div>

                    <div class="row" id="showdetails">
                        <div class="card-layout">
                            <div class="col-12">
                                <div class="mb-2 row">
                                    <label class="col-sm-2 col-form-label text-center">أخر سعر شراء</label>
                                    <div class="col-sm-2">
                                        <span class="pop_span"></span>
                                    </div>

                                    <label class="col-sm-2 col-form-label text-center">أقل سعر شراء</label>
                                    <div class="col-sm-2">
                                        <span class="pop_span"></span>
                                    </div>

                                    <label class="col-sm-2 col-form-label text-center">أعلى سعر شراء</label>
                                    <div class="col-sm-2">
                                        <span class="pop_span"></span>
                                    </div>
                                </div>

                                <div class="row">
                                    <label class="col-sm-2 col-form-label text-center">أخر سعر شراء من نفس المورد</label>
                                    <div class="col-sm-2">
                                        <span class="pop_span"></span>
                                    </div>

                                    <label class="col-sm-2 col-form-label text-center">التاريخ</label>
                                    <div class="col-sm-2">
                                        <span class="pop_span"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-whitesmoke br">
                    <div class="row">
                        <div class="col-12 text-left">
                            <button type="button" class="btn btn-danger" data-dismiss="modal">@DataMapping.Resources.Resource.Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
@section JavaScriptSection{
    <script src="~/Scripts/ERPScript/ServiceTrx.js"></script>
    <script src="~/Scripts/ERPScript/ItemCalculatejs.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script>
    <script src="~/Scripts/DataPicker/jquery-ui.min.js"></script>
    @*datepicker Osama Sadek*@
    <link href="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.4/themes/start/jquery-ui.css" rel="stylesheet" />

    @*<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>*@
    @*<link href="~/Scripts/DataPicker/DateBackerDesign.css" rel="stylesheet" />*@
    <link href="~/Scripts/DataPicker/jquery-ui.min.css" rel="stylesheet" />
    <script>
        //$(document).ready(function () {
        //    //$('.DateChange').datepicker({
        //    //    format: 'yyyy-mm-dd',
        //    //    changeMonth: true,
        //    //    changeYear: true
        //    //});
        //    $("#PurchaseINVDate").val("2021/10/28")
        //});
        //$(document).ready(function () {
        //    $('.Date').datepicker({
        //        format: 'yyyy-mm-dd',
        //        changeMonth: true,
        //        changeYear: true
        //    });
        //});
    </script>

    <script type="text/javascript" language="javascript">

        $("input").keyup(function () {
            $("#change").val(1);
        })
        $("#back").click(function () {
            //alert($("#change").val());
            if ($("#change").val() == 1) {

                window.onbeforeunload = function () {
                    var Ans = confirm("لقد تم تغيير البيانات هل تريد الحفظ");
                    if (Ans == true) {
                        return true;
                        toastr.warning('هذه السيارة مسلمة لموظف ');
                    }

                    else
                        return false;
                };
            }


        });

        $(document).ready(function () {
            $("#change").val(0);
        })
    </script>

    <script>
        var toggle = document.getElementById("toggle");
        var content = document.getElementById("showdetails");

        toggle.addEventListener("click", function () {
            showdetails.style.display = (content.dataset.toggled ^= 1) ? "block" : "none";
        });


    </script>
    <script>
        $('#ItemList').change(function () {
            //اخفاء تفاصيل الصنف عند تغيير اختيار الصنف
            $("#showdetails").hide();

        });
    </script>

    @*فلتره الاصناف بناءا علي  فئات الاصناف*@
    <script>
        $(document).ready(function () {
            $("#ItemCategoriesList").change(function () {
                $.get("/PurchaseINV/GetItemList", { ID: $("#ItemCategoriesList").val() }, function (data) {
                    $("#ItemList").empty();
                    $("#ItemList").append("<option> اختر الصنف  </option>")
                    $.each(data, function (index, row) {

                        $("#ItemList").append("<option value='" + row.Id + "'>" + row.ItemNameAr + "</option>")
                    });
                });
            })
        });
    </script>

    <script>
        //عند اختيار المخزن في بيانات الفاتوره الاساسيه يكون نفس المخزن  في بيانات الصنف
        $(document).ready(function () {
            $("#StoreList").change(function () {
                $.get("/PurchaseINV/GetStoreList", { ID: $("#StoreList").val() }, function (data) {
                    $("#StoreListPop").empty();
                    //$("#StoreListPop").append("<option> ----------------  </option>")
                    $.each(data, function (index, row) {

                        $("#StoreListPop").append("<option value='" + row.Id + "'>" + row.Name + "</option>")
                    });
                });
            })
        });
    </script>

    @*جلب الوحده الافتراضيه*@
    <script>
        $(document).ready(function () {
            $("#ItemList").change(function () {
                $.get("/PurchaseINV/GetUintList", { ID: $("#ItemList").val() }, function (data) {
                    $("#UnitList").empty();
                    //$("#UnitList").append("<option> ----------------  </option>")
                    $.each(data, function (index, row) {

                        $("#UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                    });
                });
            })
        });
        //Units

        $("#OrdersItems").on("change", "#Row1 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row1 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row1 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });

        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row2 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row2 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row2 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row3 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row3 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row3 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row4 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row4 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row4 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row5 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row5 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row5 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row6 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row6 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row6 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row7 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row7 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row7 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row8 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row8 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row8 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row9 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row9 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row9 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row10 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row10 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row10 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row11 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row11 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row11 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row12 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row12 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row12 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row13 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row13 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row13 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row14 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row14 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row14 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row15 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row15 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row15 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row16 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row16 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row16 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row17 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row17 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row17 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row18 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row18 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row18 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row19 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row19 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row19 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row20 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row20 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row20 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row21 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row21 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row21 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row22 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row22 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row22 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row23 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row23 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row23 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row24 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row24 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row24 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row25 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row25 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row25 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row26 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row26 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row26 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row27 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row27 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row27 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row28 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row28 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row28 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row29 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row29 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row29 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
        ////////////////////////////////

        $("#OrdersItems").on("change", "#Row30 .ItemListCLS", function () {
            //var currentRow = $(this).closest("tr");
            //var col = currentRow.find("td:eq(2)").find(".UnitList").val(); // get current row 1st TD value
            //alert(col)
            $.get("/PurchaseINV/GetUintList", { ID: $(this).val() }, function (data) {
                $("#Row30 .UnitList").empty();

                //$("#UnitList").append("<option> ----------------  </option>")
                $.each(data, function (index, row) {

                    $("#Row30 .UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                });
            });
        });
    </script>



    @*جلب سعر المنتج *@
    <script>
    $('#ItemList').change(function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #MainRow #Price").val(result["ItemPrice1"]);
                $("#OrdersItems #MainRow #ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Qty').val();
                var price = $('#Price').val();
                var x = $("#ItemCode").val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Total').text(mult);
                $("#Net").text(mult);
            }
        });
    });
         ///////////////////////////
        $('#OrdersItems').on("change", "#Row1 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row1 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row1 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row1 .Qty').val();
                var price = $('#Row1 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(10);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(10);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row1 .Total').text(mult);
                $("#Row1 .Net").text(mult);
            }
        });
        });
        ///////////////////////////
        $('#OrdersItems').on("change", "#Row2 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row2 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row2 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row2 .Qty').val();
                var price = $('#Row2 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row2 .Total').text(mult);
                $("#Row2 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row3 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row3 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row3 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row3 .Qty').val();
                var price = $('#Row3 .Price').val();

                var mult = quantity * price;

                $('#Row3 .Total').text(mult);
                $("#Row3 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row4 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row4 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row4 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row4 .Qty').val();
                var price = $('#Row4 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row4 .Total').text(mult);
                $("#Row4 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row5 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row5 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row5 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row5 .Qty').val();
                var price = $('#Row5 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row5 .Total').text(mult);
                $("#Row5 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row6 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row6 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row6 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row6 .Qty').val();
                var price = $('#Row6 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row6 .Total').text(mult);
                $("#Row6 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row7 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row7 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row7 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row7 .Qty').val();
                var price = $('#Row7 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row7 .Total').text(mult);
                $("#Row7 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row8 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row8 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row8 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row8 .Qty').val();
                var price = $('#Row8 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row8 .Total').text(mult);
                $("#Row8 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row9 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row9 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row9 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row9 .Qty').val();
                var price = $('#Row9 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row9 .Total').text(mult);
                $("#Row9 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row10 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row10 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row10 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row10 .Qty').val();
                var price = $('#Row10 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row10 .Total').text(mult);
                $("#Row10 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row11 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row11 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row11 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row11 .Qty').val();
                var price = $('#Row11 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row11 .Total').text(mult);
                $("#Row11 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row12 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row12 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row12 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row12 .Qty').val();
                var price = $('#Row12 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row12 .Total').text(mult);
                $("#Row12 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row13 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row13 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row13 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row13 .Qty').val();
                var price = $('#Row13 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row13 .Total').text(mult);
                $("#Row13 .Net").text(mult);
            }
        });
        });

    ///////////////////////////
    $('#OrdersItems').on("change", "#Row14 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row14 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row14 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row14 .Qty').val();
                var price = $('#Row14 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row14 .Total').text(mult);
                $("#Row14 .Net").text(mult);
            }
        });
        });

    ///////////////////////////
    $('#OrdersItems').on("change", "#Row15 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row15 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row15 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row15 .Qty').val();
                var price = $('#Row15 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row15 .Total').text(mult);
                $("#Row15 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row16 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row16 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row16 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row16 .Qty').val();
                var price = $('#Row16 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row16 .Total').text(mult);
                $("#Row16 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row17 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row17 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row17 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row17 .Qty').val();
                var price = $('#Row17 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row17 .Total').text(mult);
                $("#Row17 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row18 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row18 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row18 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row18 .Qty').val();
                var price = $('#Row18 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row18 .Total').text(mult);
                $("#Row18 .Net").text(mult);
            }
        });
        });
    ///////////////////////////
    $('#OrdersItems').on("change", "#Row19 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row19 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row19 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row19 .Qty').val();
                var price = $('#Row19 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row19 .Total').text(mult);
                $("#Row19 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row20 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row20 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row20 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row20 .Qty').val();
                var price = $('#Row20 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row20 .Total').text(mult);
                $("#Row20 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row21 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row21 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row21 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row21 .Qty').val();
                var price = $('#Row21 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row21 .Total').text(mult);
                $("#Row21 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row22 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row22 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row22 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row22 .Qty').val();
                var price = $('#Row22 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row22 .Total').text(mult);
                $("#Row22 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row23 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row23 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row23 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row23 .Qty').val();
                var price = $('#Row23 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row23 .Total').text(mult);
                $("#Row23 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row24 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row24 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row24 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row24 .Qty').val();
                var price = $('#Row24 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row24 .Total').text(mult);
                $("#Row24 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row25 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row25 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row25 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row25 .Qty').val();
                var price = $('#Row25 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row25 .Total').text(mult);
                $("#Row25 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row26 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row26 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row26 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row26 .Qty').val();
                var price = $('#Row26 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row26 .Total').text(mult);
                $("#Row26 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row27 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row27 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row27 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row27 .Qty').val();
                var price = $('#Row27 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row27 .Total').text(mult);
                $("#Row27 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row28 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row28 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row28 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row28 .Qty').val();
                var price = $('#Row28 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row28 .Total').text(mult);
                $("#Row28 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row29 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row29 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #Row29 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row29 .Qty').val();
                var price = $('#Row29 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row29 .Total').text(mult);
                $("#Row29 .Net").text(mult);
            }
        });
        });
     ///////////////////////////
    $('#OrdersItems').on("change", "#Row30 .ItemListCLS",function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemPrice", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#OrdersItems #Row30 .Price").val(result["ItemPrice1"]);
                $("#OrdersItems #RowRow302 .ItemNumber").val(result["ItemNumber"]);
                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Row30 .Qty').val();
                var price = $('#Row30 .Price').val();

                var mult = quantity * price;
                if (mult != 0 || mult != null || mult != "") {
                    var isValid = true;

                    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

                    //    var OldItem = $(this).val();
                    //    var NewItem = $("#ItemListPopUp").val();
                    //    if (NewItem == OldItem) {
                    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
                    //        isValid = false;
                    //    }
                    //});


                    if (isValid) {

                        var Quat = $("#Qty").val();
                        var Total = $("#Total").text();
                        var Disper = $("#Disper").val();
                        var DisValue = $("#DisValue").val();









                        //////////////////////////////////////////////////////////////////////////



                        ///////////////////////////////////////////////////////////////////

                        //get all toatal of total before Dis Osama Sadek
                        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Total)) {
                                var TotalQuat = 0;

                                $(".Total").each(function () {
                                    var sval = parseInt($(this).text());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });
                                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                                $(".TotalBeforeDis").text(TotalQuat);
                            }


                        });





                        ///////////////////////////////////////////////////////////////////

                        //حساب نسبه الخصم في اجمالي الفاتوره كلها

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(Disper)) {
                                var TotalQuat = 0;

                                $(".Disper").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDisper").text(TotalQuat);
                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////////////////////////

                        //حساب قيمه الخصم علي مستوي الفاتوره

                        var $numoItem = $("#TbItem tr:gt(0)");
                        $numoItem.each(function (index) {
                            var $tblrow = $(this);
                            if (!isNaN(DisValue)) {
                                var TotalQuat = 0;

                                $(".DisValue").each(function () {
                                    var sval = parseInt($(this).val());
                                    TotalQuat += isNaN(sval) ? 0 : sval;
                                });

                                $(".TotalDis").text(TotalQuat);
                                $("#TotaleItemDis").val(TotalQuat);

                            }


                        });

                        ///////////////////////////////////////////////


                        ///////////////////////////////////////////////
                        //حساب عدد الاصناف في الفاتوره
                        //var rowCount = $("#OrdersItems tr").length;

                        //$("#RowsCount").val(rowCount);

                        //////////////////////////////////////////////////////////////////////////////

                        //حساب اجمالي الصافي للفاتوره

                        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                        $("#TotalNet").text(Net.toFixed(2));
                        ////////////////////////////////////////////////////////////////////////////


                        //حساب المتبقي بعد الدفع

                        $(document).on("change keyup blur", "#Payed", function () {
                            var TotalNet = $('#TotalNet').text();
                            var Payed = $('#Payed').val();

                            var mult = Payed - TotalNet;
                            var doubleVal = (mult).toFixed(2);

                            $('#Residual').text(doubleVal);



                        });


                    }
                }
                $('#Row30 .Total').text(mult);
                $("#Row30 .Net").text(mult);
            }
        });
        });
    </script>

    @*جلب رصيد المنتج *@
    <script>
        @*$('#ItemList').change(function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemBalance", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()) },
             dataType: "json",
            success: function (result) {
                $("#TbItem #MainRow #ItemBalance").val(result["Quantity"]);

                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                var quantity = $('#Qty').val();
                var price = $('#Price').val();

                var mult = quantity * price;

                $('#Total').text(mult);
                $("#Net").text(mult);
            }
        });
    });*@
    </script>
    @* //تفريغ الحقول بعد اغلاق البوب اب*@

    <script>
        //تفريغ الحقول بعد اغلاق البوب اب
        $("#ADD").click(function () {
            if ($("#StoreList").val() == null || $("#StoreList").val() == "") {
                toastr.warning('اختر المخزن')

            }
            else {
                $("#createModal").modal("show");
                //var valuee =  document.getElementById("ItemCategoriesList").selectedIndex = 0
                // var resultt = $("#ItemCategoriesList option:selected").text();
                // $("#test").append(resultt);
                // $('#ItemCategoriesList:has(option:contains(اختر))')
                // document.getElementById("UnitList").selectedIndex = 0;
                // //document.getElementById("StoreList").selectedIndex = 0;
                // document.getElementById("ItemList").selectedIndex = 0;
                $.get("/PurchaseINV/GetItemList", { ID: 0 }, function (data) {
                    $("#ItemList").empty();
                    $("#ItemList").append("<option> اختر الصنف  </option>")
                    $.each(data, function (index, row) {

                        $("#ItemList").append("<option value='" + row.Id + "'>" + row.ItemNameAr + "</option>")
                    });
                });

                $.get("/PurchaseINV/GetItemGroupList", function (data) {
                    $("#ItemCategoriesList").empty();
                    $("#ItemCategoriesList").append("<option> اختر الصنف  </option>")
                    $.each(data, function (index, row) {

                        $("#ItemCategoriesList").append("<option value='" + row.Id + "'>" + row.ItemgroupsName + "</option>")
                    });
                });

                $.get("/PurchaseINV/GetUintList", { ID: 0 }, function (data) {
                    $("#UnitList").empty();
                    $("#UnitList").append("<option> اختر الوحدة  </option>")
                    $.each(data, function (index, row) {

                        $("#UnitList").append("<option value='" + row.Id + "'>" + row.UnitName + "</option>")
                    });
                });

                $("#Price").val(0);
                $("#Qty").val(1);
                $("#Total").text('');
                $("#Disper").val(0);
                $("#DisValue").val(0);
                $("#Net").text('');
            }
        });

    </script>
    @*تحويل القيمة الى رقم عشرى*@
    <script>

        //$(document).ready(function () {
        //    var DoubleVal = (0).toFixed(2);
        //    $("#DirectExpenses1").val(DoubleVal);
        //});

        //$(document).ready(function () {
        //    var DoubleVal = (0).toFixed(2);
        //    $("#DirectExpenses2").val(DoubleVal);
        //});


        $("#DirectExpenses1").focusout(function () {
            var strVal = $("#DirectExpenses1").val();
            var intVal = parseInt(strVal);
            var DoubleVal = (intVal).toFixed(2);
            $("#DirectExpenses1").val(DoubleVal);
        });


        $("#DirectExpenses2").focusout(function () {
            var strVal = $("#DirectExpenses2").val();
            var intVal = parseInt(strVal);
            var DoubleVal = (intVal).toFixed(2);
            $("#DirectExpenses2").val(DoubleVal);
        })

    </script>
    <script>

    </script>
    @*تحويل القيمة الى رقم عشرى*@
    <script>

        $(document).ready(function () {
            var DoubleVal = (0).toFixed(2);
            $("#Payed").val(DoubleVal);
        });




        $("#Payed").change(function () {
            var strVal = $("#Payed").val();
            var intVal = parseInt(strVal);
            var DoubleVal = (intVal).toFixed(2);
            $("#Payed").val(DoubleVal);
        });

        $(document).ready(function () {


            var DoubleVal = (0).toFixed(2);
            $("#TotalBeforeDis").val(DoubleVal);
        });




        $("#TotalBeforeDis").change(function () {
            var strVal = $("#TotalBeforeDis").val();
            var intVal = parseInt(strVal);
            var DoubleVal = (intVal).toFixed(2);
            $("#TotalBeforeDis").val(DoubleVal);
        });

        $(document).ready(function () {
            var DoubleVal = (0).toFixed(2);
            $("#TotalDis").val(DoubleVal);
        });




        $("#TotalDis").change(function () {
            var strVal = $("#TotalDis").val();
            var intVal = parseInt(strVal);
            var DoubleVal = (intVal).toFixed(2);
            $("#TotalDis").val(DoubleVal);
        });

        //$(document).ready(function () {
        //    var DoubleVal = (0).toFixed(2);
        //    $("#TotalNet").val(DoubleVal);
        //});




        $("#TotalNet").change(function () {
            var strVal = $("#TotalNet").val();
            var intVal = parseInt(strVal);
            var DoubleVal = (intVal).toFixed(2);
            $("#TotalNet").val(DoubleVal);
        });

    </script>

    <script>
        $(document).ready(function () {


            var date = new Date($("#JournalDate").val());

            var day = date.getDate();
            var month = date.getMonth() + 1;
            var year = date.getFullYear();

            if (month < 10) month = "0" + month;
            if (day < 10) day = "0" + day;

            var today = year + "-" + month + "-" + day;
            $("#Date").attr("value", today);

        });



    </script>

    <script>

        $("#updatee").click(function () {


            //var Expences1 = $("#DirectExpenses1").val();
            //var Expences2 = $("#DirectExpenses2").val();
            //var totalExpences = parseFloat(Expences1) + parseFloat(Expences2);
            //var net = $("#TotalNet").html()
            //var NetExpences = parseFloat(totalExpences) / parseFloat(net);

            $("#OrdersItems tbody tr").each(function () {

                var itemPrice = $(".Price").val();
                //itemCost = parseFloat(NetExpences) * parseFloat(itemPrice);
                //var a = $(".ItemCost").val();
                //if (a !=.0111) {
                //    $(".ItemCostt").val(parseFloat(NetExpences) * parseFloat(itemPrice));
                //}

            });
            var isValid = true;
            var itemsList = [];
            $("#OrdersItems tbody tr").each(function () {

                var item = {
                    /*  ItemCategoriesId: $('#ItemCategoriesList', this).val(),*/
                    ServiceId: $('.ItemListCLS', this).val(),
                    /*   Price: $('.Price', this).val(),*/
                    /*              UnitCode: $('.UnitList', this).val(),*/
                    Quantity: $('.Qty', this).val(),
                    /*        Notes: $(".NotesD", this).val()*/
                    //Total: $('.Total', this).text(),
                    //DisPer: $('.Disper', this).val(),
                    //DisValue: $('.DisValue', this).val(),
                    //NetPrice: $('.Net', this).text(),
                    /* ItemBalance: $('#ItemBalance', this).val(),*/
                    /*  StoreId: $('#StoreList').val(),*/

                }
                itemsList.push(item);
            });

            var Vendor = $('#VendorsList').val();

            var Store = $('.StoreList').val();

            var Employee = $('#EmployeeList').val();
            var PurchaseType = $('#PurchaseINVTypeList').val();

            //if (itemsList.length == 0) {

            //    toastr.warning('اختر الصنف ...!')
            //    isValid = false;

            //}

            ////if (document.getElementById("VendorsList").selectedIndex == 0) {
            ////    $("#cusMsg").show();
            ////    isValid = false;
            ////}
            //if (document.getElementById("StoreList").selectedIndex == 0) {

            //    $("#stMsg").show();

            //    isValid = false;
            //}
            //if (document.getElementById("InternalDepartments").selectedIndex == 0) {
            //    isValid = false;
            //}
            //if (document.getElementById("EmployeeList").selectedIndex == 0) {
            //    $("#empMsg").show();
            //    isValid = false;
            //}
            //if (document.getElementById("PurchaseINVTypeList").selectedIndex == 0) {

            //    $("#typeMsg").show();

            //    isValid = false;
            //}

            if (isValid == false) {
                toastr.error('لم يتم الحفظ ...!')
            }
            if (isValid) {
                var data = {
                    TrxType: $("#TrxType").val(),
                    Year: $("#Year").val(),
                    Date: $("#Date").val(),
                    CarId: $("#MachineType").val(),
                    AlertDays: $("#AlertDays").val(),
                    Serial: $("#Serial").val(),
                    Type: $("#Type").val(),
                    CurrentReading: $("#CurrentReading").val(),
                    PreviousReading: $("#PreviousReading").val(),
                    ReplaceOil: $("#ReplaceOil").val(),

                    DriverId: $("#driverId").val(),
                    DepartmentId: $("#departmentId").val(),
                    SMS_Sent: $("#SMS_Sent").val(),
                    Items: itemsList
                }




                $("#submit").attr("disabled", true);
                $(".remove ").hide();

                //AddOrderAndSetails
                $.ajax({
                    type: 'POST',
                    url: '/ServicesTrx/UpdateServicesTrx1',
                    data: JSON.stringify(data),
                    contentType: 'application/json',
                    success: function (data) {
                        if (data.status) {
                            //$('#Ordermessages').text(data.message);
                            toastr.success("تم الحفظ بنجاح")

                        }
                        else {
                            //$('#Ordermessages').text(data.message);
                            toastr.danger("فشل في الحفظ")

                        }


                    }

                });

            }



        });

    </script>


    <script>
        $('#ItemList').change(function () {

        $.ajax({
            type: "POST",
            //contentType: "application/json; charset=utf-8",
            cache: false,
            url: '@Url.Action("GetItemBalanceFromStore", "PurchaseINV")',
            data: { product_Id: parseInt($(this).val()), StoreId: $("#StoreList").val() },
             dataType: "json",
            success: function (result) {
                $("#TbItem #MainRow #ItemBalance").val(result);

                //alert($("#OrdersItems #ItemCode").text(result["ItemNumber"]))
                //var quantity = $('#Qty').val();
                //var price = $('#Price').val();

                //var mult = quantity * price;

                //$('#Total').text(mult);
                //$("#Net").text(mult);
            }
        });
        });

        tinymce.init({
            selector: '#myTextareaNotes'
        });
        $(document).ready(function () {

            $("#collapseOneee").collapse(false);
            $("#collapseOneeee").collapse(false);

            //var file = document.getElementById("filePath");
            //var srcc = file.src;
            //$("#filePathVal").val(srcc);
            //localStorage.setItem('FileName', $("#fileName").val())
            //localStorage.setItem('FilePath', $("#filePathVal").val())

            //var fileName = localStorage.getItem('FileName');
            //var filePath = localStorage.getItem('FilePath');
            //alert(fileName +" / "+ filePath);
        })
    </script>
    @*جلب رصيد المنتج *@
    <script>
        $('#ItemListCLS').change(function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#ItemBalance").val(result);
                    }
                });
        }
        });
        /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row1 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row1 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row2 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row2 .ItemBalance").val(result);
                    }
                });
        }
    });
     /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row3 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row3 .ItemBalance").val(result);
                    }
                });
        }
    });
     /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row4 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row4 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row5 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row5 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row6 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row6 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row7 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row7 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row8 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row8 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row9 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row9 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row10 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row10 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row11 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row11 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row12 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row12 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row13 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row13 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row14 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row14 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row15 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row15 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row16 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row16 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row17 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row17 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row18 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row18 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row19 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row19 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row20 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row20 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row21 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row21 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row22 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row22 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row22 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row22 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row23 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row23 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row24 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row24 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row25 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row25 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row26 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row26 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row27 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row27 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row28 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row28 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row29 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row29 .ItemBalance").val(result);
                    }
                });
        }
    });
    /////////////////////////////////////
        $('#OrdersItems').on("change", "#Row30 .ItemListCLS",function () {
            var isValid = true;
            if ($("#StoreList").val() == null || $("#StoreList").val() == 0) {
                toastr.warning('اختر المخزن ...!')
                isValid = false;
            }
            if (isValid==true) {
                $.ajax({
                    type: "POST",
                    //contentType: "application/json; charset=utf-8",
                    cache: false,
                    url: '@Url.Action("GetItemBalance", "PurchaseINV")',
                    data: { ItemID: parseInt($(this).val()), StoreID: parseInt($("#StoreList").val()) },
                    dataType: "json",
                    success: function (result) {
                        $("#Row30 .ItemBalance").val(result);
                    }
                });
        }
        });


        //calc Price
        $(document).on("keyup", "#Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Qty").val();
                var Total = $("#Total").text();
                var Disper = $("#Disper").val();
                var DisValue = $("#DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });

                var Total1 = $("#Debitt").val();
                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total1)) {
                        var TotalQuat = 0;

                        $(".Debitt").each(function () {
                            var sval = parseInt($(this).val());


                            TotalQuat += (isNaN(sval) ? 0 : sval);

                        });

                        /* $(".TotalDis").text(TotalQuat);*/
                        $("#Deipt").val(TotalQuat);

                    }


                });

                var Total2 = $("#Creditt").val();
                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total2)) {
                        var TotalQuat = 0;

                        $(".Creditt").each(function () {
                            var sval = parseInt($(this).val());


                            TotalQuat += (isNaN(sval) ? 0 : sval);

                        });

                        /* $(".TotalDis").text(TotalQuat);*/
                        $("#Credit").val(TotalQuat);

                    }

                    var CreditVal = $("#Credit").val();
                    var DepitVal = $("#Deipt").val();
                    var diffrence = CreditVal - DepitVal;
                    $("#diff").val(diffrence)

                });


                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////
                //حساب عدد الاصناف في الفاتوره
                var rowCount = $("#OrdersItems tr").length;

                $("#RowsCount").val(rowCount);

                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row1 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row1 .Qty").val();
                var Total = $("#Row1 .Total").text();
                var Disper = $("#Row1 .Disper").val();
                var DisValue = $("#Row1 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row2 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row2 .Qty").val();
                var Total = $("#Row2 .Total").text();
                var Disper = $("#Row2 .Disper").val();
                var DisValue = $("#Row2 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });

        $(document).on("keyup", "#Row3 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row3 .Qty").val();
                var Total = $("#Row3 .Total").text();
                var Disper = $("#Row3 .Disper").val();
                var DisValue = $("#Row3 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row4 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row4 .Qty").val();
                var Total = $("#Row4 .Total").text();
                var Disper = $("#Row4 .Disper").val();
                var DisValue = $("#Row4 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row5 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row5 .Qty").val();
                var Total = $("#Row5 .Total").text();
                var Disper = $("#Row5 .Disper").val();
                var DisValue = $("#Row5 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row6 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row6 .Qty").val();
                var Total = $("#Row6 .Total").text();
                var Disper = $("#Row6 .Disper").val();
                var DisValue = $("#Row6 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row7 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row7 .Qty").val();
                var Total = $("#Row7 .Total").text();
                var Disper = $("#Row7 .Disper").val();
                var DisValue = $("#Row7 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row8 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row8 .Qty").val();
                var Total = $("#Row8 .Total").text();
                var Disper = $("#Row8 .Disper").val();
                var DisValue = $("#Row8 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });

        $(document).on("keyup", "#Row9 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row9 .Qty").val();
                var Total = $("#Row9 .Total").text();
                var Disper = $("#Row9 .Disper").val();
                var DisValue = $("#Row9 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row10 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row10 .Qty").val();
                var Total = $("#Row10 .Total").text();
                var Disper = $("#Row10 .Disper").val();
                var DisValue = $("#Row10 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row11 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row11 .Qty").val();
                var Total = $("#Row11 .Total").text();
                var Disper = $("#Row11 .Disper").val();
                var DisValue = $("#Row11 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row12 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row12 .Qty").val();
                var Total = $("#Row12 .Total").text();
                var Disper = $("#Row12 .Disper").val();
                var DisValue = $("#Row12 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row13 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row13 .Qty").val();
                var Total = $("#Row13 .Total").text();
                var Disper = $("#Row13 .Disper").val();
                var DisValue = $("#Row13 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row14 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row14 .Qty").val();
                var Total = $("#Row14 .Total").text();
                var Disper = $("#Row14 .Disper").val();
                var DisValue = $("#Row14 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });
        $(document).on("keyup", "#Row15 .Price", function () {
            var isValid = true;
            //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

            //    var OldItem = $(this).val();
            //    var NewItem = $("#ItemListPopUp").val();
            //    if (NewItem == OldItem) {
            //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
            //        isValid = false;
            //    }
            //});


            if (isValid) {

                var Quat = $("#Row15 .Qty").val();
                var Total = $("#Row15 .Total").text();
                var Disper = $("#Row15 .Disper").val();
                var DisValue = $("#Row15 .DisValue").val();









                //////////////////////////////////////////////////////////////////////////



                ///////////////////////////////////////////////////////////////////

                //get all toatal of total before Dis Osama Sadek
                //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Total)) {
                        var TotalQuat = 0;

                        $(".Total").each(function () {
                            var sval = parseInt($(this).text());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });
                        TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

                        $(".TotalBeforeDis").text(TotalQuat);
                    }


                });





                ///////////////////////////////////////////////////////////////////

                //حساب نسبه الخصم في اجمالي الفاتوره كلها

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(Disper)) {
                        var TotalQuat = 0;

                        $(".Disper").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDisper").text(TotalQuat);
                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////////////////////////

                //حساب قيمه الخصم علي مستوي الفاتوره

                var $numoItem = $("#TbItem tr:gt(0)");
                $numoItem.each(function (index) {
                    var $tblrow = $(this);
                    if (!isNaN(DisValue)) {
                        var TotalQuat = 0;

                        $(".DisValue").each(function () {
                            var sval = parseInt($(this).val());
                            TotalQuat += isNaN(sval) ? 0 : sval;
                        });

                        $(".TotalDis").text(TotalQuat);
                        $("#TotaleItemDis").val(TotalQuat);

                    }


                });

                ///////////////////////////////////////////////


                ///////////////////////////////////////////////


                //////////////////////////////////////////////////////////////////////////////

                //حساب اجمالي الصافي للفاتوره

                var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
                $("#TotalNet").text(Net.toFixed(2));
                ////////////////////////////////////////////////////////////////////////////


                //حساب المتبقي بعد الدفع

                $(document).on("change keyup blur", "#Payed", function () {
                    var TotalNet = $('#TotalNet').text();
                    var Payed = $('#Payed').val();

                    var mult = Payed - TotalNet;
                    var doubleVal = (mult).toFixed(2);

                    $('#Residual').text(doubleVal);



                });


            }

        });





        ////////////////////////////////////////////////////////
        ////clac price when change
        //$(document).on("change", "#Price", function () {
        //    var isValid = true;

        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Qty").val();
        //        var Total = $("#Total").text();
        //        var Disper = $("#Disper").val();
        //        var DisValue = $("#DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });

        //        var Total1 = $("#Debitt").val();
        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total1)) {
        //                var TotalQuat = 0;

        //                $(".Debitt").each(function () {
        //                    var sval = parseInt($(this).val());


        //                    TotalQuat += (isNaN(sval) ? 0 : sval);

        //                });

        //                /* $(".TotalDis").text(TotalQuat);*/
        //                $("#Deipt").val(TotalQuat);

        //            }


        //        });

        //        var Total2 = $("#Creditt").val();
        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total2)) {
        //                var TotalQuat = 0;

        //                $(".Creditt").each(function () {
        //                    var sval = parseInt($(this).val());


        //                    TotalQuat += (isNaN(sval) ? 0 : sval);

        //                });

        //                /* $(".TotalDis").text(TotalQuat);*/
        //                $("#Credit").val(TotalQuat);

        //            }

        //            var CreditVal = $("#Credit").val();
        //            var DepitVal = $("#Deipt").val();
        //            var diffrence = CreditVal - DepitVal;
        //            $("#diff").val(diffrence)

        //        });


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////
        //        //حساب عدد الاصناف في الفاتوره
        //        var rowCount = $("#OrdersItems tr").length;

        //        $("#RowsCount").val(rowCount);

        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row1 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row1 .Qty").val();
        //        var Total = $("#Row1 .Total").text();
        //        var Disper = $("#Row1 .Disper").val();
        //        var DisValue = $("#Row1 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});

        //$(document).on("change", "#Row2 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row2 .Qty").val();
        //        var Total = $("#Row2 .Total").text();
        //        var Disper = $("#Row2 .Disper").val();
        //        var DisValue = $("#Row2 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row3 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row3 .Qty").val();
        //        var Total = $("#Row3 .Total").text();
        //        var Disper = $("#Row3 .Disper").val();
        //        var DisValue = $("#Row3 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row4 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row4 .Qty").val();
        //        var Total = $("#Row4 .Total").text();
        //        var Disper = $("#Row4 .Disper").val();
        //        var DisValue = $("#Row4 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row5 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row5 .Qty").val();
        //        var Total = $("#Row5 .Total").text();
        //        var Disper = $("#Row5 .Disper").val();
        //        var DisValue = $("#Row5 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row6 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row6 .Qty").val();
        //        var Total = $("#Row6 .Total").text();
        //        var Disper = $("#Row6 .Disper").val();
        //        var DisValue = $("#Row6 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row7 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row7 .Qty").val();
        //        var Total = $("#Row7 .Total").text();
        //        var Disper = $("#Row7 .Disper").val();
        //        var DisValue = $("#Row7 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row8 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row8 .Qty").val();
        //        var Total = $("#Row8 .Total").text();
        //        var Disper = $("#Row8 .Disper").val();
        //        var DisValue = $("#Row8 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row9 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row9 .Qty").val();
        //        var Total = $("#Row9 .Total").text();
        //        var Disper = $("#Row9 .Disper").val();
        //        var DisValue = $("#Row9 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row10 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row10 .Qty").val();
        //        var Total = $("#Row10 .Total").text();
        //        var Disper = $("#Row10 .Disper").val();
        //        var DisValue = $("#Row10 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row11 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row11 .Qty").val();
        //        var Total = $("#Row11 .Total").text();
        //        var Disper = $("#Row11 .Disper").val();
        //        var DisValue = $("#Row11 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row12 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row12 .Qty").val();
        //        var Total = $("#Row12 .Total").text();
        //        var Disper = $("#Row12 .Disper").val();
        //        var DisValue = $("#Row12 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row13 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row13 .Qty").val();
        //        var Total = $("#Row13 .Total").text();
        //        var Disper = $("#Row13 .Disper").val();
        //        var DisValue = $("#Row13 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row14 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row14 .Qty").val();
        //        var Total = $("#Row14 .Total").text();
        //        var Disper = $("#Row14 .Disper").val();
        //        var DisValue = $("#Row14 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        //$(document).on("change", "#Row15 .Price", function () {
        //    var isValid = true;
        //    //$('#OrdersItems tbody tr:not(:nth-child(1)) .ItemListPopUp').each(function () {

        //    //    var OldItem = $(this).val();
        //    //    var NewItem = $("#ItemListPopUp").val();
        //    //    if (NewItem == OldItem) {
        //    //        toastr.warning('الصنف موجود بالفعل في الفاتورة')
        //    //        isValid = false;
        //    //    }
        //    //});


        //    if (isValid) {

        //        var Quat = $("#Row15 .Qty").val();
        //        var Total = $("#Row15 .Total").text();
        //        var Disper = $("#Row15 .Disper").val();
        //        var DisValue = $("#Row15 .DisValue").val();









        //        //////////////////////////////////////////////////////////////////////////



        //        ///////////////////////////////////////////////////////////////////

        //        //get all toatal of total before Dis Osama Sadek
        //        //حساب كل القيمه قبل الخصم لكل اصناف الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Total)) {
        //                var TotalQuat = 0;

        //                $(".Total").each(function () {
        //                    var sval = parseInt($(this).text());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });
        //                TotalQuat += ($("#DirectExpenses1").val() | 0) + ($("#DirectExpenses2").val() | 0);

        //                $(".TotalBeforeDis").text(TotalQuat);
        //            }


        //        });





        //        ///////////////////////////////////////////////////////////////////

        //        //حساب نسبه الخصم في اجمالي الفاتوره كلها

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(Disper)) {
        //                var TotalQuat = 0;

        //                $(".Disper").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDisper").text(TotalQuat);
        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////////////////////////

        //        //حساب قيمه الخصم علي مستوي الفاتوره

        //        var $numoItem = $("#TbItem tr:gt(0)");
        //        $numoItem.each(function (index) {
        //            var $tblrow = $(this);
        //            if (!isNaN(DisValue)) {
        //                var TotalQuat = 0;

        //                $(".DisValue").each(function () {
        //                    var sval = parseInt($(this).val());
        //                    TotalQuat += isNaN(sval) ? 0 : sval;
        //                });

        //                $(".TotalDis").text(TotalQuat);
        //                $("#TotaleItemDis").val(TotalQuat);

        //            }


        //        });

        //        ///////////////////////////////////////////////


        //        ///////////////////////////////////////////////


        //        //////////////////////////////////////////////////////////////////////////////

        //        //حساب اجمالي الصافي للفاتوره

        //        var Net = parseFloat($(".TotalBeforeDis").text()) - parseFloat($("#TotalDis").text());
        //        $("#TotalNet").text(Net.toFixed(2));
        //        ////////////////////////////////////////////////////////////////////////////


        //        //حساب المتبقي بعد الدفع

        //        $(document).on("change keyup blur", "#Payed", function () {
        //            var TotalNet = $('#TotalNet').text();
        //            var Payed = $('#Payed').val();

        //            var mult = Payed - TotalNet;
        //            var doubleVal = (mult).toFixed(2);

        //            $('#Residual').text(doubleVal);



        //        });


        //    }

        //});
        $(document).ready(function () {
            $(".select2-selection").css("background-color", "white");
        })
    </script>
}